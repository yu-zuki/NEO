# NEO

- **開発形態**: チーム制作
- **ジャンル**: 3Dベルトスクロールアクション
- **開発期間**: 2023年5月1日 ～ 2023年9月24日
- **担当範囲**: `GameSystem`フォルダ内の全て。具体的には以下の項目を担当しました。
  - **GameMode処理**: ゲームの基本ルールや状態の管理。
  - **画面遷移処理**: ゲームの画面間の遷移を制御。
  - **バトルエリア処理**: カメラを固定し、プレイヤーが画面外に出ないようにする処理。
  - **UI全般処理**: ゲーム内のユーザーインターフェースの制御。
  - **SpawnPoint処理**: 敵を指定されたタイミングで特定の場所にスポーンさせる処理。
  - **SplineCamera処理**: Lineに沿ってカメラを移動させる処理。

[→プレイ動画](#プレイ動画)

[→実行ファイルダウンロード](#実行ファイルのダウンロード)
## 1. プロジェクトの概要

このプロジェクトは学校の研究ゼミでチームを組んで制作されました。目的は東京ゲームショウ(TGS)に参加することであり、企画段階では多くの先生のフィードバックを受けてアイデアを練り直しました。最終的には、3Dベルトスクロールアクションというジャンルを選択しました。プロジェクトのコンセプトは、古いジャンルを現代的にアップデートすることでありました。

## 2. 技術的詳細
- **プログラミング言語**: C++
- **フレームワーク/エンジン**: Unreal Engine 5.1.1
- **使用ツール**: Visual Studio, git, github

## 3. 機能説明
 
### GameMode処理
バトルシステムはプレイヤーのゲーム体験を向上させるためのいくつかの要素を取り入れて設計されています。

[→バトルシステムのコードを参照](#バトルシステムのコード部分)

![動画](Document/Battle.gif)


### 画面遷移処理  
ディスティニーシステムは、プレイヤーが敵の攻撃をガードした際に、一時的にプレイヤーの攻撃力を増加させるシステムです。攻撃力の増加倍率は、時間の経過とともに徐々に減少します。また、このシステムの効果時間には上限が存在します。

このシステムは、プレイヤーが戦略的なガードを成功させた際に、一時的な攻撃力のブーストを提供することで、ゲームプレイのダイナミクスを高める効果が期待されます。

[→ディスティニーシステムのコードを参照](#ディスティニーシステムに関連する主要なコードの部分です)

![動画](Document/Destiny.gif)


### バトルエリア処理
さまざまな種類の敵キャラクターがゲーム内に登場します。それぞれに独自の攻撃パターンと戦略があります。（まだ1種類しか実装してません。）

[→エネミーシステムのコードを参照](#エネミーシステムのコード部分)

![動画](Document/Enemy.gif)


### UI全般処理
ゲームの進行状況、キャラクターの状態、敵の位置や方向などの情報をプレイヤーに表示します。

[→UIシステムのコードを参照](#UIシステムのコード部分)

![動画](Document/UI.gif)


### SpawnPoint処理
NPCとの対話を通じて、ストーリーが進行します。

[→会話システムのコードを参照](#会話システムのコード部分)

![動画](Document/Quest.gif)


### SplineCamera処理
クエストを通じて、プレイヤーはゲーム内のミッションを完了することができます。

[→クエストシステムのコードを参照](#クエストシステムのコード部分)

![動画](Document/Quest.gif)


### 簡単な仕様図
![簡単な説明図](Document/ARPG.png)


## 4. ソースコードの説明とサンプル

### バトルシステムのコード部分
バトルシステムは、攻撃処理、武器の装備、モーションの切り替え、武器の当たり判定生成、回避処理、ダメージ受け処理、ガード処理、HitStop、およびHitEffectなどの複数のコンポーネントから構成されています。ここでは、コンポーネントが多数あるため、主要な攻撃処理のみを紹介します。

- **プレイヤーは攻撃する時**
まず、攻撃角度を調整し、攻撃フラグを有効にしてから、AnimMontageを再生します。特定のフレーム間でHitDetect関数を呼び出し、この関数内で武器ClassのCheckOverlap()メソッドを呼び出し、フレームごとにCapsuleコリジョンを生成します。このコリジョンが敵と交差した場合、ダメージを与えます。最適化のため、特定のフレーム間でのみ当たり判定を行っています。

```cpp
//ファイル：DestinyChangerCharacter.cpp

```

```cpp

```

```cpp
//ファイル：BaseWeapon.cpp


```

### ディスティニーシステムに関連する主要なコードの部分です。

```cpp
//ファイル：DestinyChangerCharacter.h

```


### エネミーシステムのコード部分


```cpp
//ファイル：AttackPlayerBT.cpp


```

### UIシステムのコード部分
UIシステムは、プレイヤーのステータス、敵の方向を示す矢印とHP、会話ウィンドウ、およびミニマップ（UEのプラグインを使用）の4つのコンポーネントから構成されています。

- **プレイヤーのステータス**
この部分では、プレイヤーのステータスを取得し、Blueprint側でデータを受け取る処理を行っています。
  
![Blackboardのスクリーンショット](Document/PlayerUI.png)

```cpp
//ファイル：DestinyChangerCharacter.h

```

### 会話システムのコード部分
この部分では、DialogueNodeの構造では、話す人の名前と話す内容となっております。DialogueManagerコンポーネントが配列のDialogueNodeを使用して、会話の内容をＵＩに送り込む。そして、デリゲートを使って関数ポインタを保存して、会話が終了の時に何か（Destoryとか）のメソッドを呼び出し。

```cpp
//ファイル：QuestSystem.h

```

## 5. 自分の役割と貢献

## 6. 成果と学び


## 7. ビジュアルとメディア
![スクリーンショット](Document/Title.png)  

### プレイ動画
[プロジェクトデモビデオ]()

## 8. プロジェクトのリンク
- [GitHubリポジトリ](https://github.com/yu-zuki/NEO)  
### 実行ファイルのダウンロード
- [実行可能なデモ Github](https://github.com/yu-zuki/DestinyChanger/releases/tag/Demov1.0)
- [実行可能なデモ GoogleDrive](https://drive.google.com/drive/folders/1w2h7GhYy8HUFfTIW6YDCepHEAFAgkzOj?usp=drive_link)

## 9. 連絡先情報
- 名前: トウ　ゼイキ
- メール: touzeiki@gmail.com

